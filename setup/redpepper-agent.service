
[Unit]
Description=RedPepper Agent
Documentation=https://github.com/merlinz01/redpepper
After=network.target network-online.target
Requires=network-online.target

[Service]
User=redpepper
Group=redpepper
ExecStartPre=export PYTHONPATH=/opt/redpepper/.venv/lib/python3.10/site-packages:/opt/redpepper
ExecStart=/opt/redpepper/.venv/bin/python3 -m redpepper.agent
WorkingDirectory=/opt/redpepper
TimeoutStopSec=5s
PrivateTmp=true
AmbientCapabilities=CAP_NET_ADMIN CAP_NET_BIND_SERVICE

[Install]
WantedBy=multi-user.target
